<%- include("layouts/Header"); -%>
    <link rel="stylesheet" href="/css/admin.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <link rel="stylesheet" type="text/css" href="https://npmcdn.com/flatpickr/dist/themes/material_blue.css">
    <title>Reservations</title>
  </head>

  <body>
    <%- include ("layouts/Sidebar"); -%>
    <div id="page-content-wrapper"></div>
    <div class="menusReserv">

        <ul>
        <li style="margin-left:1%;padding-left:0;"><a href="javascript:void(0);" onclick="javascript:showAll(this)" >All</a></li>
        <li><a href="javascript:void(0);" onclick="javascript:showSelItems(this)" >Specific rooms</a></li>
        <li style="padding-left:5%;"><input type="text" onkeyup="searchRoomID()" id="searchE" placeholder="E.g. room nr. 100" disabled="disabled"/><i class="fas fa-search" style="padding-right: 10px;"></i></li>
        <table style="border-spacing: 10px;">
            <form>
                <tr>
                    <td style="font-weight: 800;color:darkblue;">
                        Start date
                    </td>
                    <td style="padding-left:20px;font-weight: 800;color:darkblue;">
                        End date
                    </td>
                    
                </tr>
                <tr>
                    <td id="date1" style="border-radius:5px 5px 0 0;">
                        <input type="date" name="beginReserv" id="dC1" style="background-color: #cfdaeb;box-shadow: 1px 1px 5px #2a59dc;" placeholder="dd-mm-yyyy" required>
                        <i class="fas fa-calendar-alt"></i>
                    </td>
                    <td id="date1" style="padding-left:20px;border-radius:5px 5px 0 0;">
                        <input type="date" name="endReserv" id="dC1" style="background-color: #cfdaeb;box-shadow: 1px 1px 5px #2a59dc;" placeholder="dd-mm-yyyy" required>
                        <i class="fas fa-calendar-alt"></i>
                    </td>
                </tr>
            </form>
        </table>
      </ul>

      </div>

      <div id="content" style="margin-top:5%;">

      <ul style="margin-top:10px;">
        <li style="padding-left:1%;">Room nr.</li>
        <li>Room type</li>
        <li>Price</li>
        <li>Ficilities</li>
        <li style="padding-right:15%;">Username</li>
      </ul>

      <ol id="numbers">
        <%reservations.forEach(reservation => { %>
        <div class="itemBck">
            <li>
                <span class="rooId"><%= reservation.roomNr %></span>
                <span class="roomType"><%= reservation.roomType %></span>
                <span class="price"><%= reservation.price %></span>
                <span class="facil"><%= reservation.facil %></span>
                <span class="userN"><%= reservation.username %></span>
            </li>
        </div>
        <% }); %>
      </ol>

      </div>
    </div>

    <!--<script type="text/javascript">
        function beginDate() {
            month = '' + (d.getMonth() + 1),
            day = '' + d.getDate(),
            year = d.getFullYear();

            if (month.length < 2) 
                month = '0' + month;
            if (day.length < 2) 
                day = '0' + day;

            return [year, month, day].join('-');
        }
    </script>-->

    <script>
      flatpickr("#dC1", {
        minDate: "today"
      });
    </script>
    <script>
        function showAll(obj) {
            ol = document.getElementById("numbers");
            li = ol.getElementsByTagName('li');
            for (i = 0; i < li.length; i++) {
                li[i].style.display = "block";
            }
            document.getElementById('searchE').disabled = true;
        }
        function showSelItems(obj) {
            document.getElementById('searchE').disabled = false;
        }
        function searchRoomID() {
            var input, filter, ul, li, a, i, txtValue;
            input = document.getElementById('searchE');
            filter = input.value.toUpperCase();
            ol = document.getElementById("numbers");
            li = ol.getElementsByTagName('li');
            var nS = Number(filter);

            for (i = 0; i < li.length; i++) {
                a = li[i].getElementById("rooId");
                txtValue = a.textContent || a.innerText;
                var nList = Number(txtValue);
                if ( nList >= nS ) {
                li[i].style.display = "";
                } else {
                li[i].style.display = "none";
                }
            }
        }
    </script>

<%- include("layouts/Footer"); -%>